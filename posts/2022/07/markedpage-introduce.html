<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../../../logo.png" />
		<link rel="sitemap" type="application/xml" href="/sitemap.xml" />
		<link rel="alternate" type="application/atom+xml" href="/atom.xml" />
		<link rel="alternate" type="application/feed+xml" href="/feed.xml" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta http-equiv="content-security-policy" content=""><title>MarkedPage â€” SvelteKit éœæ…‹ç¶²ç«™çš„å…§å®¹ç®¡ç†æ–¹æ¡ˆ - Saweicore Lab - ç¨‹å¼é–‹ç™¼ | ç¶²ç«™æ¶è¨­ | å¹£åœˆé›œè«‡ | å„é …é›œç‡´é›†æ•£åœ°</title><meta name="twitter:card" content="summary" data-svelte="svelte-f1lzu5"><meta name="twitter:site" content="@saweima12" data-svelte="svelte-f1lzu5"><meta name="twitter:title" content="MarkedPage â€” SvelteKit éœæ…‹ç¶²ç«™çš„å…§å®¹ç®¡ç†æ–¹æ¡ˆ - Saweicore Lab - ç¨‹å¼é–‹ç™¼ | ç¶²ç«™æ¶è¨­ | å¹£åœˆé›œè«‡ | å„é …é›œç‡´é›†æ•£åœ°" data-svelte="svelte-f1lzu5"><meta name="twitter:description" data-svelte="svelte-f1lzu5"><meta name="twitter:url" content="https://saweicore.com/posts/2022/07/markedpage-introduce" data-svelte="svelte-f1lzu5"><meta property="og:url" content="https://saweicore.com/posts/2022/07/markedpage-introduce" data-svelte="svelte-f1lzu5"><meta property="og:locale" content="zh_TW" data-svelte="svelte-f1lzu5"><meta property="og:type" content="article" data-svelte="svelte-f1lzu5"><meta property="og:title" content="MarkedPage â€” SvelteKit éœæ…‹ç¶²ç«™çš„å…§å®¹ç®¡ç†æ–¹æ¡ˆ" data-svelte="svelte-f1lzu5"><meta property="og:site_name" content="Saweicore Lab - ç¨‹å¼é–‹ç™¼ | ç¶²ç«™æ¶è¨­ | å¹£åœˆé›œè«‡ | å„é …é›œç‡´é›†æ•£åœ°" data-svelte="svelte-f1lzu5"><meta property="og:description" content="æƒ³è©¦è‘—åšå€‹éœæ…‹ç¶²ç«™å»åˆå°ç¾æˆçš„ç”Ÿæˆå™¨æ„Ÿåˆ°ä¸æ»¿æ„ï¼Ÿä¸å¦¨è©¦è©¦çœ‹ SvelteKit èˆ‡é€™å€‹å°ˆé–€ç‚ºéœæ…‹ç¶²ç«™è€Œç”Ÿçš„ Markdown å…§å®¹ç´¢å¼•å·¥å…·å§ï¼Œç›¸ä¿¡èƒ½å¤ å¸¶ä¾†äº›ä¸ä¸€æ¨£çš„ä½¿ç”¨é«”é©—ã€‚" data-svelte="svelte-f1lzu5">
		<meta name="description" content="æƒ³è©¦è‘—åšå€‹éœæ…‹ç¶²ç«™å»åˆå°ç¾æˆçš„ç”Ÿæˆå™¨æ„Ÿåˆ°ä¸æ»¿æ„ï¼Ÿä¸å¦¨è©¦è©¦çœ‹ SvelteKit èˆ‡é€™å€‹å°ˆé–€ç‚ºéœæ…‹ç¶²ç«™è€Œç”Ÿçš„ Markdown å…§å®¹ç´¢å¼•å·¥å…·å§ï¼Œç›¸ä¿¡èƒ½å¤ å¸¶ä¾†äº›ä¸ä¸€æ¨£çš„ä½¿ç”¨é«”é©—ã€‚" data-svelte="svelte-f1lzu5">
	<link href="../../../_app/immutable/assets/+layout-eed564a7.css" rel="stylesheet">
	<link href="../../../_app/immutable/assets/+page-7ed394ec.css" rel="stylesheet">
	<link rel="modulepreload" href="../../../_app/immutable/start-34fd70cd.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/index-e6965666.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/index-e127beab.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/preload-helper-aa6bc0ce.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/singletons-dbe501d2.js">
	<link rel="modulepreload" href="../../../_app/immutable/components/pages/_layout.svelte-db83af4e.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/store-465521c3.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/helper-a645ffda.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/stores-4922191d.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/navigation-a14b4e4e.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/_commonjsHelpers-094ef602.js">
	<link rel="modulepreload" href="../../../_app/immutable/modules/pages/_layout.ts-4774ee04.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/route-58ec6f73.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/_layout-5a184ceb.js">
	<link rel="modulepreload" href="../../../_app/immutable/components/pages/posts/_year_/_month_/_slug_/_page.svelte-d45c6961.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/formater-faf389fa.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/calender-ce03e571.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/colors-e3ddc188.js">
	<link rel="modulepreload" href="../../../_app/immutable/modules/pages/posts/_year_/_month_/_slug_/_page.ts-8ee2144c.js">
	<link rel="modulepreload" href="../../../_app/immutable/chunks/_page-a23fdb74.js">
	</head>
	<body>
		<div>


<div class="wrapper-container"><div class="transition-all duration-200 min-h-screen main-wrapper"><div class="fixed top-0 w-screen wrapper">

<nav class="py-2 px-2 top-navbar svelte-1jv9zmu"><div class="flex pl-1 items-center navbar-container svelte-1jv9zmu"><div class="lg:hidden w-30 px-2"><div class="menu-button-wrapper"><div class="menu-button-container"><div class="menu-button"></div></div></div></div>

		<a sveltekit:prefetch class="flex raleway-font site-title" href="/"><div class="logo svelte-1jv9zmu"><img width="36" height="36" src="/logo.png" alt="Saweicore Lab"></div>
			
			<div class="hidden md:flex px-2 letter-title-font title svelte-1jv9zmu">Saweicore Lab</div></a>
	
		<div class="grow spacer"></div>

		<div class="hidden lg:flex items-center"><ul class="h-full flex flex-row nav-list svelte-1jv9zmu"><li class="nav-item mr-5 px-2 svelte-1jv9zmu"><a sveltekit:prefetch href="/journal" alt="" class="w-full h-full"><div class="flex items-center nav-item-block svelte-1jv9zmu"><div class="item-name">Journal</div>
							</div>
					</a>
				</li><li class="nav-item mr-5 px-2 svelte-1jv9zmu"><a sveltekit:prefetch href="/about" alt="" class="w-full h-full"><div class="flex items-center nav-item-block svelte-1jv9zmu"><div class="item-name">About</div>
							</div>
					</a>
				</li><li class="nav-item mr-5 px-2 svelte-1jv9zmu"><a href="http://github.com/saweima12" alt="" class="w-full h-full"><div class="flex items-center nav-item-block svelte-1jv9zmu"><div class="item-name">Github</div>
							<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div>
					</a>
				</li></ul>
			<button class="flex text-xl letter-content-font mr-1 theme-switch svelte-1jv9zmu"><div class="icon-base w-6"><svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ic_fluent_dark_theme_24_filled</title><desc>Created with Sketch.</desc><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="#212121" fill-rule="nonzero"><path fill="currentColor" d="M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M12,20 L12,4 C16.418278,4 20,7.581722 20,12 C20,16.418278 16.418278,20 12,20 Z" id="ğŸ¨-Color"></path></g></g></svg></div></button></div>

		<div class="lg:hidden search-icon"><div class="nav-search mr-2 svelte-18cfe79"><div class="flex self-center justify-center w-6 label-icon"><svg viewBox="0 0 24 24" aria-hidden="true" class="svelte-1h287kj"><path fill="currentColor" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path></svg></div>
</div></div></div>


</nav></div>

		<div class="flex flex-col justify-between main-container svelte-agtcg5"><div class="w-full content-wrapper"><main class="mx-auto min-h-screen content-container"><div>

<div class="my-10 post-page wrapper"><div class="post-container"><header class="mx-6 mb-4"><h1 class="font-bold letter-title-font post-title">MarkedPage â€” SvelteKit éœæ…‹ç¶²ç«™çš„å…§å®¹ç®¡ç†æ–¹æ¡ˆ</h1>

			<div class="flex flex-row items-center mt-2 created-date"><div class="icon-base w-5"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line fill="currentColor" x1="16" y1="2" x2="16" y2="6"></line><line fill="currentColor" x1="8" y1="2" x2="8" y2="6"></line><line fill="currentColor" x1="3" y1="10" x2="21" y2="10"></line></svg></div>
				<time class="flex self-center ml-2">2022-07-22</time></div>

			<div class="mt-4 flex flex-row post-tag-list"><div class="post-tag-item"><a sveltekit:prefetch href="/tags/svelte">svelte</a>
					</div><div class="post-tag-item"><a sveltekit:prefetch href="/tags/markdown">markdown</a>
					</div><div class="post-tag-item"><a sveltekit:prefetch href="/tags/programing">programing</a>
					</div></div></header>

		<article class="content"><!-- HTML_TAG_START --><p>åˆå®‰æ—…äººï¼ŒMarkedPage æ˜¯æ­å»ºé€™å€‹éƒ¨è½æ ¼æ™‚ä¸€èµ·è£½ä½œçš„å·¥å…·åŒ…ï¼Œç”¨æ„åœ¨è§£æ±º SvelteKit ä½¿ç”¨ Markdown åŠå»ºç«‹ç´¢å¼•æ™‚ç¼ºä¹ç›¸é—œå·¥å…·çš„å•é¡Œï¼Œå¸Œæœ›èƒ½å¸¶çµ¦ä½ ä¸éŒ¯çš„é«”é©—ã€‚</p>
<h2 id="é€™èƒ½å¤ åšäº›ä»€éº¼ï¼Ÿ" class="heading-item">é€™èƒ½å¤ åšäº›ä»€éº¼ï¼Ÿ</h2><ul>
<li>ä½¿ç”¨ .md æª”æ¡ˆä½œç‚ºè³‡æ–™ä¾†æºï¼Œä¸éœ€è¦é¡å¤–çš„å…§å®¹ç®¡ç†ç³»çµ±(CMS)ã€‚</li>
<li>å…§å»º <code>FrontMatter</code>ã€<code>&lt;!--more--&gt; æ¨™ç±¤</code>ã€<code>headings æŠ½å–</code> åŠŸèƒ½ã€‚</li>
<li>å…§ç½®<a href="#classifier" >ç°¡æ˜“åˆ†é¡å™¨</a>ï¼Œå¯ä¾æ“š <strong>è³‡æ–™å¤¾è·¯å¾‘</strong> æˆ–æ˜¯ <strong>FrontMatter æ¬„ä½</strong> é€²è¡Œåˆ†é¡ï¼Œçœå»æ’°å¯«ç¹é›œçš„åˆ†é¡é‚è¼¯ã€‚</li>
<li>æ”¯æ´<a href="#customclassifier" >è‡ªå®šç¾©åˆ†é¡å™¨</a>ï¼Œä¾ç…§è‡ªå·±éœ€æ±‚å®¢è£½åŒ–åˆ†é¡æ–¹å¼ã€‚</li>
<li>å…·å‚™ draft (è‰ç¨¿)è¼”åŠ©åŠŸèƒ½ï¼Œç•¶ä¸€å€‹æ–‡ç« è¢«æ¨™è¨˜ç‚º draft æ™‚ï¼Œåœ¨ dev ç’°å¢ƒå°‡ç…§å¸¸é¡¯ç¤ºå¯ç”¨åšç•«é¢é è¦½ï¼Œä½†åœ¨æ­£å¼ç·¨è­¯æ™‚å°‡ä¸æœƒè¢«åˆ—å…¥æ¸…å–®ã€‚</li>
</ul>
<h2 id="äº‹å‰æº–å‚™" class="heading-item">äº‹å‰æº–å‚™</h2><p>Makredpage é›–ç„¶å¯å–®ç¨ä½¿ç”¨ï¼Œä½†ä¸»è¦ç”¨æ–¼é…åˆ SvelteKit å°ˆæ¡ˆã€‚å› æ­¤ä»¥ä¸‹ç¯„ä¾‹çš†ä»¥ SvelteKit çš„ä½¿ç”¨æƒ…å¢ƒç‚ºä¸»ã€‚</p>
<h3 id="å®‰è£" class="heading-item">å®‰è£</h3><pre><code class="language-js">npm install markedpage
// yarn add markedpage
// pnpm install markedpage
</code></pre>
<h3 id="ç›®éŒ„çµæ§‹" class="heading-item">ç›®éŒ„çµæ§‹</h3><p>å‰µå»ºåŸºæœ¬è³‡æ–™å¤¾çµæ§‹åŠæª”æ¡ˆï¼š</p>
<pre><code class="language-js">/
â”œâ”€ docs
â”‚   â””â”€ _posts
â”‚         â”œâ”€ 2021-09-16-directorypost1.md
â”‚         â””â”€ 2021-09-17-note.md
â”œâ”€ src
â”‚    â”œâ”€ app.html
â”‚    â””â”€ site.config.js
â”” package.json
</code></pre>
<p>åœ¨ç›®éŒ„é…ç½®æ–¹é¢ï¼Œéµå¾ªç´„å®šå¤§æ–¼é…ç½®åŸå‰‡ã€‚</p>
<ul>
<li><p>/docs</p>
<ul>
<li>æ‰€æœ‰ .md æª”æ¡ˆå¿…é ˆæ”¾ç½®æ–¼æ­¤è·¯å¾‘ä¸‹ã€‚</li>
<li>åˆ†é¡å™¨æœƒä»¥æ­¤è·¯å¾‘ç‚ºåŸºæº–é€²è¡Œè§£æã€‚</li>
<li>æª”æ¡ˆåç¨±æ”¯æ´ yyyy-mm-dd-slug.md åŠ slug.md å…©ç¨®è§£ææ¨¡å¼</li>
</ul>
</li>
<li><p>/src/site.config.js</p>
<ul>
<li>MarkedPage ä¸»è¦çš„é…ç½®æª”æ¡ˆï¼Œç”¨æ–¼é…ç½® Classifier åŠ Marked æ“´å±•ã€‚</li>
</ul>
</li>
</ul>
<h3 id="é…ç½®-siteconfigjs" class="heading-item">é…ç½® site.config.js</h3><pre><code class="language-js">const config = {
    classifier: [
        { id: &#39;post&#39;, params: { path: &#39;/_posts/&#39; }, type: &#39;directory&#39; },
    ],
    marked: {
        options: {},
        extensions: []
    },
};

export default config;
</code></pre>
<ul>
<li><code>classifier</code> æ¬„ä½å‹åˆ¥ç‚º Array ç”¨æ–¼é…ç½®åˆ†é¡å™¨ï¼Œæ¯å€‹åˆ†é¡å™¨ç”±ä¸‰å€‹æ¬„ä½çµ„æˆã€‚<ul>
<li>id	=&gt;  åˆ†é¡å™¨ id - å‹åˆ¥ç‚º string</li>
<li>params	=&gt; å‚³å…¥åˆ†é¡å™¨çš„åƒæ•¸ - å‹åˆ¥ç‚º Object </li>
<li>type	=&gt;  é¸ç”¨çš„åˆ†é¡å™¨é¡å‹</li>
</ul>
</li>
</ul>
<p>é—œæ–¼åˆ†é¡å™¨çš„è©³æƒ…å¯åƒè€ƒ <a href="#classifier" ><strong>#Classifier</strong></a> ç¯€</p>
<ul>
<li><code>marked</code> æ¬„ä½ç”¨æ–¼é…ç½® marked  çš„è¨­å®šåŠæ“´å±•åŠŸèƒ½ã€‚è©³æƒ…å¯åƒé–± <a href="#marked" ><strong>#Marked</strong></a> ç¯€ã€‚</li>
</ul>
<p>é™¤ä»¥ä¸Šç”¨é€”å¤–ä¹Ÿå¯ç”¨æ–¼é…ç½®ç¶²ç«™çš„è‡ªå®šç¾©å…§å®¹ï¼Œå¦‚ï¼š title ã€description ...ç­‰ï¼Œå¯è‡ªè¡Œé‹ç”¨ã€‚ç¯„ä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">const config = {
    title: &#39;MarkedPage Test Project&#39;,
    description: &#39;Test project description&#39;,
    author: {
        name: &quot;saweima&quot;
    },
    classifier: [
        { id: &#39;post&#39;, params: { path: &#39;/_posts/&#39; }, type: &#39;directory&#39; },
        { id: &#39;tag&#39;, params: { keys: [&#39;tag&#39;, &#39;tags&#39;] }, type: &#39;frontmatter&#39; },
        { id: &#39;category&#39;, params: { keys: [&#39;category&#39;, &#39;categories&#39;] }, type: &#39;frontmatter&#39; },
        { id: &#39;custom&#39;, params: { path: &#39;/_posts/&#39; }, type: CustomClassifierHandle },
    ],
    marked: {
        options: {},
        extensions: {}
    },
};
</code></pre>
<h3 id="é…ç½®-viteconfigjs" class="heading-item">é…ç½® vite.config.js</h3><pre><code class="language-js">import { sveltekit } from &#39;@sveltejs/kit/vite&#39;;
import { markedpageVitePlugin } from &#39;markedpage&#39;;

import siteConfig from &#39;./src/site.config.js&#39;;

/** @type {import(&#39;vite&#39;).UserConfig} */
const config = {
    plugins: [sveltekit(), markedpageVitePlugin(siteConfig)]
};

export default config;
</code></pre>
<p>é€éå°å…¥ <strong>markedpageVitePlugin</strong> åŠ <strong>site.config.js</strong> å¯æ”¯æ´ markdown æª”æ¡ˆåŠ site.config.js çš„ç†±æ›´æ–°ï¼ˆæª”æ¡ˆæ›´æ–°å¾Œä¸éœ€è¦é‡å•Ÿï¼Œæœƒè‡ªå‹•åˆ·æ–°ï¼‰ã€‚</p>
<h2 id="å¦‚ä½•ä½¿ç”¨ï¼Ÿ" class="heading-item">å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2><p>MarkedPage æä¾› 3 å€‹ä¸»è¦ Function åŠ 1 å€‹ HMR è¼”åŠ© Hookã€‚</p>
<ul>
<li>siteConfig()</li>
<li>getPage(slug)</li>
<li>classifiedSet(id)</li>
<li>onContentUpdate(callback)</li>
</ul>
<h3 id="siteconfig" class="heading-item">siteConfig()</h3><p>å–å¾— /src/site.config.js ä¸­çš„å…§å®¹ã€‚</p>
<pre><code class="language-js">// å–å¾— config data
const config = await siteConfig();

// å›å‚³çµæœ
{
  title: &#39;MarkedPage Test Project&#39;,
  classifier: [
    { id: &#39;post&#39;, params: [Object], type: &#39;directory&#39; },
    { id: &#39;tag&#39;, params: [Object], type: &#39;frontmatter&#39; },
    { id: &#39;category&#39;, params: [Object], type: &#39;frontmatter&#39; },
    {
      id: &#39;custom&#39;,
      params: [Object],
      type: [AsyncFunction: CustomClassifierHandle]
    }
  ],
  marked: { options: {}, extensions: [ [Object] ] }
}
</code></pre>
<h3 id="getpageslug" class="heading-item">getPage(slug)</h3><p>æ ¹æ“š slug å–å¾—å°æ‡‰çš„é é¢è³‡æ–™ã€‚</p>
<pre><code class="language-js">const page = await getPage(&quot;marked-test&quot;);

// å›å‚³çµæœ
{
  frontMatter: {
    title: &#39;MarkedPage Test Page&#39;,
    tags: [ &#39;test&#39; ],
    category: [ &#39;default&#39; ],
    excerpt: &#39;TestPage Excerpt.&#39;,
    created: 2022-05-18T00:00:00.000Z
  },
  sourcePath: &#39;docs/_posts/2022-05-18-marked-test.md&#39;,
  indexPath: &#39;docs/_posts/2022-05-18-marked-test&#39;,
  headings: [
    { depth: 2, text: &#39;H2&#39;, raw: &#39;## H2\n\n&#39;, id: &#39;h2&#39; },
    { depth: 3, text: &#39;H3&#39;, raw: &#39;### H3\n\n&#39;, id: &#39;h3&#39; },
  ],
  render: [Function: render],
  raw: [Function: raw],
  slugKey: &#39;marked-test&#39;
}
</code></pre>
<h3 id="classifiedsetid" class="heading-item">classifiedSet(id)</h3><p>ä¾æ“š site.config.js ä¸­é…ç½®çš„ åˆ†é¡å™¨ id å–å¾—å°æ‡‰çš„è³‡æ–™ã€‚ </p>
<pre><code class="language-js">const pageSet = await classifiedSet(&quot;post&quot;);

// å›å‚³çµæœ
{
  pages: [
    {
      frontMatter: [Object],
      sourcePath: &#39;docs/_posts/2022-05-18-marked-test.md&#39;,
      indexPath: &#39;docs/_posts/2022-05-18-marked-test&#39;,
      headings: [Array],
      render: [Function: render],
      raw: [Function: raw],
      slugKey: &#39;marked-test&#39;
    }
  ]
}
</code></pre>
<h3 id="oncontentupdatecallback" class="heading-item">onContentUpdate(callback)</h3><pre><code class="language-js">  // src/routes/__layout.svelte
  import { invalidate } from &#39;$app/navigation&#39;;
  import { page } from &#39;$app/stores&#39;;
  import { onContentUpdate } from &#39;markedpage&#39;;

  onContentUpdate((payload: Record&lt;string, any&gt;) =&gt; {
      let slug = $page.params.slug;
      // update endpoint data.
      invalidate(`/api/posts.json`);
      invalidate(`/api/posts/${slug}.json`);
  });
</code></pre>
<p>ç”¨æ–¼å¯¦ä½œ HMR æ›´æ–°ï¼š</p>
<ul>
<li>é€é <code>onContentUpdate</code> ç›£è½ markdown æª”æ¡ˆæ˜¯å¦æœ‰è®Šå‹•ã€‚</li>
<li>ä½¿ç”¨ <code>invalidate</code> é€šçŸ¥ SvelteKit åˆ·æ–° Endpoint ä¸¦è‡ªå‹•æ›´æ–° Client ç«¯ã€‚</li>
</ul>
<h2 id="classifier" class="heading-item">Classifier</h2><p>MarkedPage æä¾›äº†å…©å€‹ç°¡æ˜“çš„åˆ†é¡å™¨åŠå®¢è£½åŒ–çš„é¸é …ã€‚ä¾æ“šä½¿ç”¨çš„åˆ†é¡å™¨ä¸åŒæœƒæœ‰ä¸åŒçš„å›å‚³çµæœã€‚</p>
<h3 id="directoryclassifier" class="heading-item">DirectoryClassifier</h3><p>å°æ‡‰ <code>type: &#39;directory&#39;</code> ï¼Œä»¥è·¯ç”±ç‚ºåŸºç¤çš„åˆ†é¡å™¨ï¼Œæœƒä»¥ /docs ç‚ºæ ¹ç›®éŒ„ä¾æ“š params.path é…ç½®çš„è·¯å¾‘é€²è¡Œåˆ†é¡ã€‚</p>
<pre><code class="language-js">// ç¯„ä¾‹é…ç½®
{ id: &#39;post&#39;, params: { path: &#39;/_posts/&#39; }, type: &#39;directory&#39; }

// å›å‚³çµæœ
{
  pages: [
    {
      frontMatter: [Object],
      sourcePath: &#39;docs/_posts/2022-05-18-marked-test.md&#39;,
      indexPath: &#39;docs/_posts/2022-05-18-marked-test&#39;,
      headings: [Array],
      render: [Function: render],
      raw: [Function: raw],
      slugKey: &#39;marked-test&#39;
    }
  ]
}
</code></pre>
<h3 id="frontmatterclassifier" class="heading-item">FrontMatterClassifier</h3><p>å°æ‡‰ <code>type: &#39;frontmatter&#39;</code> ï¼Œä»¥ frontmatter æ¬„ä½ç‚ºåŸºç¤çš„åˆ†é¡å™¨ï¼Œéæ­·æ‰€æœ‰ page çš„ frontmatter ä¸¦æ ¹æ“šè¨»å†Šçš„æ¬„ä½çš„å€¼é€²è¡Œåˆ†é¡ã€‚</p>
<pre><code class="language-js">// ç¯„ä¾‹é…ç½®
{ id: &#39;tag&#39;, params: { keys: [&#39;tags&#39;] }, type: &#39;frontmatter&#39; }

// ç¯„ä¾‹ frontmatter
---
title: MarkedPage Test Page Second
tags:
 - test
 - test2
---

// å›å‚³çµæœ
{
  test: [
    {
      frontMatter: [Object],
      sourcePath: &#39;docs/_posts/2022-05-18-marked-test-second.md&#39;,
      indexPath: &#39;docs/_posts/2022-05-18-marked-test-second&#39;,
      headings: [Array],
      render: [Function: render],
      raw: [Function: raw],
      slugKey: &#39;marked-test-second&#39;
    },
  ],
  test2: [
    {
      frontMatter: [Object],
      sourcePath: &#39;docs/_posts/2022-05-18-marked-test-second.md&#39;,
      indexPath: &#39;docs/_posts/2022-05-18-marked-test-second&#39;,
      headings: [Array],
      render: [Function: render],
      raw: [Function: raw],
      slugKey: &#39;marked-test-second&#39;
    }
  ]
}
</code></pre>
<h3 id="customclassifier" class="heading-item">CustomClassifier</h3><p>è‹¥å‰å…©è€…éƒ½ä¸ç¬¦åˆéœ€æ±‚ï¼Œå‰‡å¯ä»¥é¸æ“‡è‡ªå®šç¾©åˆ†é¡å™¨ Functionã€‚</p>
<pre><code class="language-js">// è‡ªå®šç¾© Classifier
export const CustomClassifierHandle = async ({options, pages}) =&gt; {
    let _classifiedPages = [];
    let { id, params } = options;
  
    console.log(`::: Run CustomClassifierHandle -  ${id} :::`);
    pages.map((page) =&gt; {
      const { sourcePath } = page;
      if (!sourcePath.includes(params.path)) return;
  
      _classifiedPages.push(page);
    });
  
    return { pages: _classifiedPages };
};

// ç¯„ä¾‹é…ç½®
{ id: &#39;custom&#39;, params: { path: &#39;/_posts/&#39; }, type: CustomClassifierHandle },

// å›å‚³çµæœ (ç¯„ä¾‹ä¸­èˆ‡ DirectoryClassifier ä¸€è‡´)
</code></pre>
<p>æ¥æ”¶çš„å…©å€‹åƒæ•¸ï¼š</p>
<ul>
<li>options -&gt; site.config.js ä¸­é…ç½®çš„ åˆ†é¡å™¨ Object</li>
<li>pages   -&gt; ä½æ–¼ /docs ä¸‹æ‰€æœ‰çš„  page Array</li>
</ul>
<h2 id="é¡å¤–åŠŸèƒ½" class="heading-item">é¡å¤–åŠŸèƒ½</h2><p>é™¤äº†åŸºæœ¬çš„ Markdown æ”¯æ´å¤–ï¼Œå¦æœ‰å¯¦ä½œä»¥ä¸‹å¹¾é …å…§éƒ¨åŠŸèƒ½ã€‚</p>
<h3 id="frontmatter" class="heading-item">FrontMatter</h3><p>é€é front-matter å¥—ä»¶ï¼Œè§£æåœ¨ .md æª”æ¡ˆä¸­é ‚éƒ¨çš„ yaml å€åŸŸï¼Œä¸¦å°å‡ºè‡³ frontMatter æ¬„ä½ã€‚</p>
<pre><code class="language-md">---
title: MarkedPage Test Page
tags:
 - test
category:
 - default
---

ç”± --- å¤¾è‘—çš„å…§å®¹ç‚º yaml æ ¼å¼ã€‚æœƒè¢«å°å‡ºç‚º page.frontMatter
</code></pre>
<h3 id="excerpt" class="heading-item">Excerpt</h3><p>é€é Regex è§£æå…§å®¹ï¼Œæœƒå°‡<strong>ç¬¬ä¸€å€‹</strong>æœç´¢åˆ°çš„ <code>&lt;!-- more --&gt;</code> (æœ‰ç„¡ç©ºç™½çš†å¯) ä»¥ä¸Šçš„å…§å®¹æŠ½å‡ºç‚º excerptã€‚</p>
<pre><code class="language-md">---
title: MarkedPage test.
---

é€™æ®µå¥å­æœƒè¢«å°å‡ºç‚º page.frontMatter.excerpt(ä¸å« HTML åŠMarkdown tag)ã€‚
&lt;!--more--&gt;
é€™æ®µå¥å­ä¸æœƒç™¼ç”Ÿä»»ä½•äº‹æƒ…ã€‚
&lt;!-- more --&gt;
</code></pre>
<h3 id="draft" class="heading-item">Draft</h3><p>æ­¤ç‚º FrontMatter çš„å»¶ä¼¸åŠŸèƒ½ï¼Œç•¶ FrontMatter å…§å®¹åŒ…å« <code>_draft: true</code> æ™‚ï¼Œè©²ç¯‡æ–‡ç« åœ¨ <code>NODE_ENV=&quot;production&quot;</code> ç‹€æ…‹ï¼ˆä¹Ÿå°±æ˜¯ä½¿ç”¨ svelte-kit build ) ä¸‹ä¸æœƒè¢«åˆ—å…¥æœ‰æ•ˆæª”æ¡ˆä¸­ã€‚</p>
<pre><code class="language-md">---
title: MarkedPage test.
_draft: true
---

é€™ç¯‡æ–‡ç« åœ¨ Production æ¨¡å¼ä¸‹ä¸æœƒè¢«åˆ—å…¥æœ‰æ•ˆæ–‡ç« ä¸­ï¼Œç„¡æ³•æª¢ç´¢ã€‚
</code></pre>
<h2 id="æ“´å±•åŠŸèƒ½" class="heading-item">æ“´å±•åŠŸèƒ½</h2><p>æœ€å¾Œï¼Œè€ƒé‡åˆ°è‡ªå®šç¾©çš„éœ€æ±‚ï¼Œåœ¨ site.config.js ä¸­æä¾›äº†å…©å€‹æ“´å±•é¸é …ï¼š</p>
<h3 id="marked" class="heading-item">Marked</h3><p>ç”¨ä»¥è‡ªå®šç¾©è§£æ markdown å…§å®¹æ™‚çš„è™•ç†ã€‚åƒæ˜¯å¹«è‡ªå®šç¾© heading çš„idã€å¹«æ¨™ç±¤åŠ ä¸Šçµ±ä¸€çš„ classã€è‡ªå®šç¾© Block ...ç­‰ã€‚</p>
<pre><code class="language-js">marked: {
  options: {},
  extensions: []
},
</code></pre>
<ul>
<li>options é¡å‹ç‚º Object å…¶å…§å®¹æœƒè¢«å‚³å…¥ marked.setOptions() ä½œç‚ºé è¨­å€¼<ul>
<li>é…ç½®å¯åƒè€ƒï¼š <a href="https://marked.js.org/using_advanced#options" target="_blank" rel="noreferrer noopenner">Marked Document - Options</a></li>
</ul>
</li>
<li>extension  é¡å‹ç‚º Array å…¶å…§å®¹æœƒä¾åºè¢«å‚³å…¥ marked.use()<ul>
<li>ç”¨ä»¥å…¼å®¹ Marked çš„ extension å¥—ä»¶ï¼Œå¦‚ï¼š <a href="https://www.npmjs.com/package/marked-custom-heading-id" target="_blank" rel="noreferrer noopenner">marked-custom-heading-id</a></li>
<li>ä¹Ÿå¯è‡ªå®šç¾©æ“´å±•ï¼Œç·¨å¯«æ–¹å¼å¯åƒè€ƒï¼š <a href="https://marked.js.org/using_pro#use" target="_blank" rel="noreferrer noopenner">Marked Document - Use</a></li>
</ul>
</li>
</ul>
<h3 id="extendpagedatapage" class="heading-item">extendPageData(page)</h3><p>ç•¶ Markdown page åšå®ŒåŸºæœ¬è™•ç†ï¼ˆæŠ½å‡º headingã€å°å‡º excerpt åŠ frontmatterï¼‰å¾ŒåŸ·è¡Œï¼Œç”¨ä»¥è‡ªå®šç¾©æ“´å±•æ¬„ä½ã€‚</p>
<pre><code class="language-js">import { marked } from &quot;marked&quot;;
export const extendPageData = async (page) =&gt; {
    const raw = await page.raw();
    page.test = marked.parse(raw);
}
</code></pre>
<h2 id="æ‡‰ç”¨ç¯„ä¾‹" class="heading-item">æ‡‰ç”¨ç¯„ä¾‹</h2><p>æœ€å¾Œï¼Œé™„ä¸Šæ‡‰ç”¨ç¯„ä¾‹ã€‚ç¯„ä¾‹ä¸­åŒ…å« Endpoint ç«¯åŠ Page ç«¯çš„å¯¦ä½œã€‚</p>
<blockquote>
<p><strong>MarkedPage Example Repo</strong><br/> 
ç¶²å€: <a href="https://github.com/saweima12/markedpage-example" target="_blank" rel="noreferrer noopenner">é»æˆ‘é€²å…¥</a></p>
</blockquote>
<h2 id="tldr" class="heading-item">TL;DR</h2><ul>
<li>MarkedPage æ˜¯ç‚ºäº†è¼”åŠ© SvelteKit Static Site è€Œè£½ä½œçš„å·¥å…·ã€‚</li>
<li>ç›®çš„åœ¨ç°¡åŒ– Markdown è³‡æ–™çš„è®€å–åŠå»ºç«‹ç´¢å¼•çš„ç¹é›œéç¨‹ã€‚</li>
<li>site.config.js é™¤äº†é…ç½®ä»¥å¤–é‚„èƒ½ç”¨ä¾†å¡«å…¥ç¶²ç«™çš„åŸºæœ¬åƒæ•¸ä½œå¾ŒçºŒä½¿ç”¨ã€‚</li>
<li>classifer å¯é¸æ“‡åŸºæ–¼<code>è³‡æ–™å¤¾è·¯å¾‘</code>èˆ‡<code>frontmatter</code>å…©ç¨®ç°¡æ˜“åˆ†é¡å™¨ã€‚</li>
<li>ç”±æ–¼ä½¿ç”¨ marked ä½œç‚ºè½‰è­¯å™¨ï¼Œå¯ä½¿ç”¨ extension åŠŸèƒ½ä¿®æ”¹ parse çµæœ (å¯åƒè€ƒ <a href="https://marked.js.org/using_pro" target="_blank" rel="noreferrer noopenner">Document</a>)</li>
</ul>
<!-- HTML_TAG_END --></article></div></div>

</div></main>
				<footer class="w-full pt-20 pb-5 site-footer svelte-1esoz7b"><div class="flex justify-center items-center px-10 h-full footer-container"><div class="copyright">Copyright Â© 2020 - 2022 Saweicore Lab All Rights Reserved.</div></div>
</footer></div>

			<div class="hidden lg:block drawer-wrapper mr-0.5"><div class="w-full min-h-screen h-full drawer-container"><div class="flex flex-col h-full widget-list"><div class="widget-list-item my-3 svelte-zx3hu4"><div class="w-full cursor-pointer search-widget svelte-q0vdx1"><div class="flex flex-row h-full justify-center items-center label svelte-q0vdx1"><div class="flex self-center mr-2 w-4 label-icon"><svg viewBox="0 0 24 24" aria-hidden="true" class="svelte-1h287kj"><path fill="currentColor" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path></svg></div>
        <div class="label-text mr-2">Search</div>
        <div class="flex label-container items-center label-keys"><div class="label-key svelte-q0vdx1">Ctrl</div>
            <div class="label-key svelte-q0vdx1">/</div></div></div>
</div></div>

    <div class="widget-list-item svelte-zx3hu4"><div class="author-widget"><div class="w-32 h-32"><img class="avatar svelte-9pb7ln" src="https://avatars.githubusercontent.com/u/62002212" alt="Saweima" loading="lazy" width="128" height="128"></div>  
    <div class="mt-3 name svelte-9pb7ln"><h2>Saweima</h2></div> 
    <div class="mr-3 letter-content-font description svelte-9pb7ln"><p>é›œé …å·¥ç¨‹å¸« | å¹£åœˆå°ç™½ | æƒ³åˆ°å†å¯«</p></div>
</div></div>
    
    <div class="widget-list-item sticky top-14 svelte-zx3hu4">

<div class="outline-widget svelte-1tqky31"><ul class="overflow-y-auto outline-list svelte-1tqky31"><div class="level-2 py-0.5 outline-item svelte-1tqky31"><a href="#é€™èƒ½å¤ åšäº›ä»€éº¼ï¼Ÿ" class="svelte-1tqky31">é€™èƒ½å¤ åšäº›ä»€éº¼ï¼Ÿ</a>
            </div><div class="level-2 py-0.5 outline-item svelte-1tqky31"><a href="#äº‹å‰æº–å‚™" class="svelte-1tqky31">äº‹å‰æº–å‚™</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#å®‰è£" class="svelte-1tqky31">å®‰è£</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#ç›®éŒ„çµæ§‹" class="svelte-1tqky31">ç›®éŒ„çµæ§‹</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#é…ç½®-siteconfigjs" class="svelte-1tqky31">é…ç½® site.config.js</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#é…ç½®-viteconfigjs" class="svelte-1tqky31">é…ç½® vite.config.js</a>
            </div><div class="level-2 py-0.5 outline-item svelte-1tqky31"><a href="#å¦‚ä½•ä½¿ç”¨ï¼Ÿ" class="svelte-1tqky31">å¦‚ä½•ä½¿ç”¨ï¼Ÿ</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#siteconfig" class="svelte-1tqky31">siteConfig()</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#getpageslug" class="svelte-1tqky31">getPage(slug)</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#classifiedsetid" class="svelte-1tqky31">classifiedSet(id)</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#oncontentupdatecallback" class="svelte-1tqky31">onContentUpdate(callback)</a>
            </div><div class="level-2 py-0.5 outline-item svelte-1tqky31"><a href="#classifier" class="svelte-1tqky31">Classifier</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#directoryclassifier" class="svelte-1tqky31">DirectoryClassifier</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#frontmatterclassifier" class="svelte-1tqky31">FrontMatterClassifier</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#customclassifier" class="svelte-1tqky31">CustomClassifier</a>
            </div><div class="level-2 py-0.5 outline-item svelte-1tqky31"><a href="#é¡å¤–åŠŸèƒ½" class="svelte-1tqky31">é¡å¤–åŠŸèƒ½</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#frontmatter" class="svelte-1tqky31">FrontMatter</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#excerpt" class="svelte-1tqky31">Excerpt</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#draft" class="svelte-1tqky31">Draft</a>
            </div><div class="level-2 py-0.5 outline-item svelte-1tqky31"><a href="#æ“´å±•åŠŸèƒ½" class="svelte-1tqky31">æ“´å±•åŠŸèƒ½</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#marked" class="svelte-1tqky31">Marked</a>
            </div><div class="level-3 py-0.5 outline-item svelte-1tqky31"><a href="#extendpagedatapage" class="svelte-1tqky31">extendPageData(page)</a>
            </div><div class="level-2 py-0.5 outline-item svelte-1tqky31"><a href="#æ‡‰ç”¨ç¯„ä¾‹" class="svelte-1tqky31">æ‡‰ç”¨ç¯„ä¾‹</a>
            </div><div class="level-2 py-0.5 outline-item svelte-1tqky31"><a href="#tldr" class="svelte-1tqky31">TL;DR</a>
            </div></ul>
</div></div>


</div></div></div></div></div></div>

<div class="fixed top-0 z-10 w-screen h-screen screenmask hidden"></div>


<div class="fixed z-30 top-0 left-0 bottom-0 w-60 md:w-80 h-screen transition-all duration-200 navmenu svelte-7saduy -translate-x-full"><div class="flex flex-col h-full navmenu-container"><div class="py-4 mb-2 header"><div class="flex items-center mb-4 pl-8"><div class="title text-lg svelte-7saduy">Saweicore Lab</div>
					<button class="flex text-xl letter-content-font theme-switch svelte-7saduy"><div class="icon-base w-6"><svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>ic_fluent_dark_theme_24_filled</title><desc>Created with Sketch.</desc><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g fill="#212121" fill-rule="nonzero"><path fill="currentColor" d="M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M12,20 L12,4 C16.418278,4 20,7.581722 20,12 C20,16.418278 16.418278,20 12,20 Z" id="ğŸ¨-Color"></path></g></g></svg></div></button></div>

			<div class="flex flex-row mx-6 author-block svelte-7saduy"><img src="https://avatars.githubusercontent.com/u/62002212" alt="saweima" loading="lazy" width="80" height="80" class="svelte-7saduy">
				<div class="flex flex-col word-font items-center justify-center ml-4 avatar-info"><div class="font-bold text-lg">Saweima</div>
					<div>é‚Šç·£å·¥ä½œè€…</div></div></div></div>
		<ul class="nav-list">
			<li class="flex nav-item svelte-7saduy"><a sveltekit:prefetch href="/journal" alt="" class="w-full h-full"><div class="flex items-center pl-8 mt-1 mb-4 nav-item-content"><div class="icon-base w-6"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" fill-rule="evenodd" d="M19,2 C20.6568542,2 22,3.34314575 22,5 L22,19 C22,20.6568542 20.6568542,22 19,22 L5,22 C3.34314575,22 2,20.6568542 2,19 L2,5 C2,3.34314575 3.34314575,2 5,2 L19,2 Z M20,8 L4,8 L4,19 C4,19.5522847 4.44771525,20 5,20 L19,20 C19.5522847,20 20,19.5522847 20,19 L20,8 Z M12.1167504,17.9932723 L12.0000776,18 L11.916,17.996 L11.7993725,17.9797599 L11.7993725,17.9797599 L11.6879528,17.9502619 L11.6879528,17.9502619 L11.5768709,17.9063266 L11.5768709,17.9063266 L11.4793812,17.8540045 L11.4793812,17.8540045 L11.4049183,17.8036865 L11.4049183,17.8036865 L11.2929784,17.7071068 L8.29290079,14.7071068 C7.9023664,14.3165825 7.9023664,13.6834175 8.29290079,13.2928932 C8.65339407,12.9324093 9.22063979,12.9046797 9.61294114,13.2097046 L9.70715092,13.2928932 L11,14.585 L11.0000776,11 C11.0000776,10.4871642 11.3861178,10.0644928 11.8834564,10.0067277 L12.0001293,10 C12.552414,10 13.0001293,10.4477153 13.0001293,11 L13,14.585 L14.2930559,13.2928932 C14.6535492,12.9324093 15.2207949,12.9046797 15.6130963,13.2097046 L15.707306,13.2928932 C16.0677993,13.6533772 16.0955296,14.2206082 15.7904968,14.6128994 L15.707306,14.7071068 L12.7072361,17.7071068 L12.6217218,17.7833908 L12.6217218,17.7833908 L12.5518984,17.8341416 L12.5518984,17.8341416 L12.4539624,17.8913373 L12.4539624,17.8913373 L12.3401306,17.9407132 L12.3401306,17.9407132 L12.2661033,17.9641549 L12.1167504,17.9932723 L12.1167504,17.9932723 Z M19,4 L5,4 C4.44771525,4 4,4.44771525 4,5 L4,6 L20,6 L20,5 C20,4.44771525 19.5522847,4 19,4 Z"></path></svg></div>
					<div class="pl-4 text-xl letter-content-font">Journal</div>
					</div>
				</a>
			</li>
			<li class="flex nav-item svelte-7saduy"><a sveltekit:prefetch href="/about" alt="" class="w-full h-full"><div class="flex items-center pl-8 mt-1 mb-4 nav-item-content"><div class="icon-base w-6"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 512 512"><g><g><path fill="currentColor" d="m480.6,11c-40.6,0-80.2,12.7-118.6,25-36.9,11.9-71.8,23.1-106,23.1-34.2,0-69.1-11.2-106-23.1-38.3-12.3-78-25-118.6-25-11.3,0-20.4,9.1-20.4,20.4v401c0,11.3 9.1,20.4 20.4,20.4 34.2,0 69.1,11.2 106,23.1 38.3,12.3 77.9,25 118.5,25 40.6,0 80.2-12.7 118.5-25 36.9-11.9 71.8-23.1 106-23.1 11.3,0 20.4-9.1 20.4-20.4v-401c0.2-11.3-8.9-20.4-20.2-20.4zm-428.8,402.1v-360c27.7,3.2 56,12.3 85.6,21.9 31.9,10.2 64.6,20.8 98.1,24v360c-27.7-3.2-56-12.3-85.6-21.8-31.8-10.4-64.6-20.9-98.1-24.1zm408.4,0c-33.5,3.3-66.3,13.8-98.1,24-29.6,9.5-57.9,18.6-85.6,21.8v-360c33.5-3.3 66.3-13.8 98.1-24 29.6-9.5 57.9-18.6 85.6-21.9v360.1z"></path><path fill="currentColor" d="m183.6,144l-68.1-20.4c-10.8-3.2-22.2,2.9-25.4,13.7-3.2,10.8 2.9,22.2 13.7,25.4 0,0 72,21.3 73.9,21.3 8.8,0 16.9-5.7 19.5-14.6 3.3-10.7-2.8-22.1-13.6-25.4z"></path><path fill="currentColor" d="m183.6,246.6l-68.1-20.4c-10.8-3.2-22.2,2.9-25.4,13.7-3.2,10.8 2.9,22.2 13.7,25.4 0,0 72,21.3 73.9,21.3 8.8,0 16.9-5.7 19.5-14.6 3.3-10.7-2.8-22.1-13.6-25.4z"></path><path fill="currentColor" d="m183.6,349.3l-68.1-20.4c-10.8-3.2-22.2,2.9-25.4,13.7-3.2,10.8 2.9,22.2 13.7,25.4 0,0 72,21.3 73.9,21.3 8.8,0 16.9-5.7 19.5-14.6 3.3-10.8-2.8-22.2-13.6-25.4z"></path><path fill="currentColor" d="m314.7,169.4c2.7,8.9 10.8,14.6 19.5,14.6 1.9,0 73.9-21.3 73.9-21.3 10.8-3.2 16.9-14.6 13.7-25.4-3.3-10.8-14.6-16.9-25.4-13.7l-68,20.4c-10.8,3.3-16.9,14.7-13.7,25.4z"></path><path fill="currentColor" d="m396.5,226.2l-68.1,20.4c-10.8,3.2-16.9,14.6-13.7,25.4 2.7,8.9 10.8,14.6 19.5,14.6 1.9,0 73.9-21.3 73.9-21.3 10.8-3.2 16.9-14.6 13.7-25.4-3.2-10.8-14.5-16.8-25.3-13.7z"></path><path fill="currentColor" d="m396.5,328.9l-68.1,20.4c-10.8,3.2-16.9,14.6-13.7,25.4 2.7,8.9 10.8,14.6 19.5,14.6 1.9,0 73.9-21.3 73.9-21.3 10.8-3.2 16.9-14.6 13.7-25.4-3.2-10.8-14.5-16.9-25.3-13.7z"></path></g></g></svg></div>
					<div class="pl-4 text-xl letter-content-font">About</div>
					</div>
				</a>
			</li>
			<li class="flex nav-item svelte-7saduy"><a href="http://github.com/saweima12" alt="" class="w-full h-full"><div class="flex items-center pl-8 mt-1 mb-4 nav-item-content"><div class="icon-base w-6"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" class="icon"><path fill="currentColor" d="m256 0c-140.609375 0-256 115.390625-256 256 0 119.988281 84.195312 228.984375 196 256v-84.695312c-11.078125 2.425781-21.273438 2.496093-32.550781-.828126-15.128907-4.464843-27.421875-14.542968-36.546875-29.910156-5.816406-9.8125-16.125-20.453125-26.878906-19.671875l-2.636719-29.882812c23.253906-1.992188 43.371093 14.167969 55.3125 34.230469 5.304687 8.921874 11.410156 14.152343 19.246093 16.464843 7.574219 2.230469 15.707032 1.160157 25.183594-2.1875 2.378906-18.972656 11.070313-26.074219 17.636719-36.074219v-.015624c-66.679687-9.945313-93.253906-45.320313-103.800781-73.242188-13.976563-37.074219-6.476563-83.390625 18.238281-112.660156.480469-.570313 1.347656-2.0625 1.011719-3.105469-11.332032-34.230469 2.476562-62.546875 2.984375-65.550781 13.078125 3.867187 15.203125-3.890625 56.808593 21.386718l7.191407 4.320313c3.007812 1.792969 2.0625.769531 5.070312.542969 17.371094-4.71875 35.683594-7.324219 53.726563-7.558594 18.179687.234375 36.375 2.839844 54.464844 7.75l2.328124.234375c-.203124-.03125.632813-.148437 2.035157-.984375 51.972656-31.480469 50.105469-21.191406 64.042969-25.722656.503906 3.007812 14.128906 31.785156 2.917968 65.582031-1.511718 4.65625 45.058594 47.300781 19.246094 115.753906-10.546875 27.933594-37.117188 63.308594-103.796875 73.253907v.015624c8.546875 13.027344 18.816406 19.957032 18.761719 46.832032v105.722656c111.808594-27.015625 196-136.011719 196-256 .003906-140.609375-115.386719-256-255.996094-256zm0 0"></path></svg></div>
					<div class="pl-4 text-xl letter-content-font">Github</div>
					<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div>
				</a>
			</li></ul>
		<div class="grow spacer"></div></div>
</div>


<div class="search-box svelte-fha6x8 hidden"><div class="search-bar svelte-fha6x8"><form class="flex items-center p-5 h-full" autocomplete="off" role="search"><div class="icon-base w-8 mr-4"><svg viewBox="0 0 24 24" aria-hidden="true" class="svelte-1h287kj"><path fill="currentColor" d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"></path></svg></div>
            <input id="search-input" type="text" autocomplete="off" class="h-full w-full svelte-fha6x8"></form></div>
    <div class="typehead-wrapper"><div class="typehead-container">
</div></div>
</div>
<div class="lightbox-wrapper svelte-1b9dfdw translate-x-full opacity-0"><div class="flex items-center h-full lightbox-container svelte-1b9dfdw"></div>
</div>




		<script type="module" data-sveltekit-hydrate="ci8cfu">
		import { set_public_env, start } from "../../../_app/immutable/start-34fd70cd.js";

		set_public_env({});

		start({
			target: document.querySelector('[data-sveltekit-hydrate="ci8cfu"]').parentNode,
			paths: {"base":"","assets":""},
			route: true,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				node_ids: [0, 7],
				params: {year:"2022",month:"07",slug:"markedpage-introduce"},
				routeId: "posts/[year]/[month]/[slug]"
			}
		});
	</script>
	<script type="application/json" sveltekit:data-type="data" sveltekit:data-url="/api/config.json">{"status":200,"statusText":"","headers":{"content-type":"application/json"},"body":"{\"title\":\"Saweicore Lab\",\"summary\":\"ç¨‹å¼é–‹ç™¼ | ç¶²ç«™æ¶è¨­ | å¹£åœˆé›œè«‡ | å„é …é›œç‡´é›†æ•£åœ°\",\"description\":\"SaweiCore Lab æ˜¯ç”¨æ–¼è¨˜éŒ„èˆ‡æ­¸æª”å€‹äººçš„ç ”ç©¶å¿ƒå¾—çš„é›†æ•£åœ°ï¼Œå…§å®¹å¤šä»¥ç¶²ç«™æ¶è¨­ã€ç¨‹å¼é–‹ç™¼ã€å¹£åœˆæ¢ç´¢ç‚ºä¸»ä¸¦ä»¥éœ€æ±‚å°å‘æ¢è¨å•é¡Œä¸¦è¨˜éŒ„å°æ‡‰çš„è§£æ±ºæ–¹æ¡ˆï¼Œä»¥ä¾¿å¾ŒçºŒæŸ¥é–±ã€‚\",\"url\":\"https://saweicore.com\",\"ga\":\"G-KY269QECHX\",\"author\":{\"name\":\"Saweima\",\"email\":\"saweima12@gmail.com\",\"summary\":\"é‚Šç·£å·¥ä½œè€…\",\"description\":\"é›œé …å·¥ç¨‹å¸« | å¹£åœˆå°ç™½ | æƒ³åˆ°å†å¯«\",\"avatar\":\"https://avatars.githubusercontent.com/u/62002212\"},\"pagination\":{\"maxPerPage\":8},\"classifier\":[{\"id\":\"post\",\"params\":{\"path\":\"/_posts/\"},\"type\":\"directory\"},{\"id\":\"tag\",\"params\":{\"keys\":[\"tag\",\"tags\"]},\"type\":\"frontmatter\"}],\"marked\":{\"options\":{},\"extensions\":[{\"renderer\":{}},{\"renderer\":{}}]},\"search\":{\"appKey\":\"BHODY4NQKK\",\"apiKey\":\"5f4c05344cf6d1cbe581c20e049a7c14\",\"index\":\"SaweicoreLab\"},\"nav\":[{\"id\":\"journal\",\"name\":\"Journal\",\"link\":\"/journal\"},{\"id\":\"about\",\"name\":\"About\",\"link\":\"/about\"},{\"id\":\"github\",\"name\":\"Github\",\"link\":\"http://github.com/saweima12\"}]}"}</script>
	<script type="application/json" sveltekit:data-type="data" sveltekit:data-url="/api/posts/2022/07/markedpage-introduce.json">{"status":200,"statusText":"","headers":{"content-type":"application/json"},"body":"{\"metadata\":{\"title\":\"MarkedPage â€” SvelteKit éœæ…‹ç¶²ç«™çš„å…§å®¹ç®¡ç†æ–¹æ¡ˆ\",\"tags\":[\"svelte\",\"markdown\",\"programing\"],\"excerpt\":\"æƒ³è©¦è‘—åšå€‹éœæ…‹ç¶²ç«™å»åˆå°ç¾æˆçš„ç”Ÿæˆå™¨æ„Ÿåˆ°ä¸æ»¿æ„ï¼Ÿä¸å¦¨è©¦è©¦çœ‹ SvelteKit èˆ‡é€™å€‹å°ˆé–€ç‚ºéœæ…‹ç¶²ç«™è€Œç”Ÿçš„ Markdown å…§å®¹ç´¢å¼•å·¥å…·å§ï¼Œç›¸ä¿¡èƒ½å¤ å¸¶ä¾†äº›ä¸ä¸€æ¨£çš„ä½¿ç”¨é«”é©—ã€‚\",\"created\":\"2022-07-22T00:00:00.000Z\"},\"content\":\"\u003Cp>åˆå®‰æ—…äººï¼ŒMarkedPage æ˜¯æ­å»ºé€™å€‹éƒ¨è½æ ¼æ™‚ä¸€èµ·è£½ä½œçš„å·¥å…·åŒ…ï¼Œç”¨æ„åœ¨è§£æ±º SvelteKit ä½¿ç”¨ Markdown åŠå»ºç«‹ç´¢å¼•æ™‚ç¼ºä¹ç›¸é—œå·¥å…·çš„å•é¡Œï¼Œå¸Œæœ›èƒ½å¸¶çµ¦ä½ ä¸éŒ¯çš„é«”é©—ã€‚\u003C/p>\\n\u003Ch2 id=\\\"é€™èƒ½å¤ åšäº›ä»€éº¼ï¼Ÿ\\\" class=\\\"heading-item\\\">é€™èƒ½å¤ åšäº›ä»€éº¼ï¼Ÿ\u003C/h2>\u003Cul>\\n\u003Cli>ä½¿ç”¨ .md æª”æ¡ˆä½œç‚ºè³‡æ–™ä¾†æºï¼Œä¸éœ€è¦é¡å¤–çš„å…§å®¹ç®¡ç†ç³»çµ±(CMS)ã€‚\u003C/li>\\n\u003Cli>å…§å»º \u003Ccode>FrontMatter\u003C/code>ã€\u003Ccode>&lt;!--more--&gt; æ¨™ç±¤\u003C/code>ã€\u003Ccode>headings æŠ½å–\u003C/code> åŠŸèƒ½ã€‚\u003C/li>\\n\u003Cli>å…§ç½®\u003Ca href=\\\"#classifier\\\" >ç°¡æ˜“åˆ†é¡å™¨\u003C/a>ï¼Œå¯ä¾æ“š \u003Cstrong>è³‡æ–™å¤¾è·¯å¾‘\u003C/strong> æˆ–æ˜¯ \u003Cstrong>FrontMatter æ¬„ä½\u003C/strong> é€²è¡Œåˆ†é¡ï¼Œçœå»æ’°å¯«ç¹é›œçš„åˆ†é¡é‚è¼¯ã€‚\u003C/li>\\n\u003Cli>æ”¯æ´\u003Ca href=\\\"#customclassifier\\\" >è‡ªå®šç¾©åˆ†é¡å™¨\u003C/a>ï¼Œä¾ç…§è‡ªå·±éœ€æ±‚å®¢è£½åŒ–åˆ†é¡æ–¹å¼ã€‚\u003C/li>\\n\u003Cli>å…·å‚™ draft (è‰ç¨¿)è¼”åŠ©åŠŸèƒ½ï¼Œç•¶ä¸€å€‹æ–‡ç« è¢«æ¨™è¨˜ç‚º draft æ™‚ï¼Œåœ¨ dev ç’°å¢ƒå°‡ç…§å¸¸é¡¯ç¤ºå¯ç”¨åšç•«é¢é è¦½ï¼Œä½†åœ¨æ­£å¼ç·¨è­¯æ™‚å°‡ä¸æœƒè¢«åˆ—å…¥æ¸…å–®ã€‚\u003C/li>\\n\u003C/ul>\\n\u003Ch2 id=\\\"äº‹å‰æº–å‚™\\\" class=\\\"heading-item\\\">äº‹å‰æº–å‚™\u003C/h2>\u003Cp>Makredpage é›–ç„¶å¯å–®ç¨ä½¿ç”¨ï¼Œä½†ä¸»è¦ç”¨æ–¼é…åˆ SvelteKit å°ˆæ¡ˆã€‚å› æ­¤ä»¥ä¸‹ç¯„ä¾‹çš†ä»¥ SvelteKit çš„ä½¿ç”¨æƒ…å¢ƒç‚ºä¸»ã€‚\u003C/p>\\n\u003Ch3 id=\\\"å®‰è£\\\" class=\\\"heading-item\\\">å®‰è£\u003C/h3>\u003Cpre>\u003Ccode class=\\\"language-js\\\">npm install markedpage\\n// yarn add markedpage\\n// pnpm install markedpage\\n\u003C/code>\u003C/pre>\\n\u003Ch3 id=\\\"ç›®éŒ„çµæ§‹\\\" class=\\\"heading-item\\\">ç›®éŒ„çµæ§‹\u003C/h3>\u003Cp>å‰µå»ºåŸºæœ¬è³‡æ–™å¤¾çµæ§‹åŠæª”æ¡ˆï¼š\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-js\\\">/\\nâ”œâ”€ docs\\nâ”‚   â””â”€ _posts\\nâ”‚         â”œâ”€ 2021-09-16-directorypost1.md\\nâ”‚         â””â”€ 2021-09-17-note.md\\nâ”œâ”€ src\\nâ”‚    â”œâ”€ app.html\\nâ”‚    â””â”€ site.config.js\\nâ”” package.json\\n\u003C/code>\u003C/pre>\\n\u003Cp>åœ¨ç›®éŒ„é…ç½®æ–¹é¢ï¼Œéµå¾ªç´„å®šå¤§æ–¼é…ç½®åŸå‰‡ã€‚\u003C/p>\\n\u003Cul>\\n\u003Cli>\u003Cp>/docs\u003C/p>\\n\u003Cul>\\n\u003Cli>æ‰€æœ‰ .md æª”æ¡ˆå¿…é ˆæ”¾ç½®æ–¼æ­¤è·¯å¾‘ä¸‹ã€‚\u003C/li>\\n\u003Cli>åˆ†é¡å™¨æœƒä»¥æ­¤è·¯å¾‘ç‚ºåŸºæº–é€²è¡Œè§£æã€‚\u003C/li>\\n\u003Cli>æª”æ¡ˆåç¨±æ”¯æ´ yyyy-mm-dd-slug.md åŠ slug.md å…©ç¨®è§£ææ¨¡å¼\u003C/li>\\n\u003C/ul>\\n\u003C/li>\\n\u003Cli>\u003Cp>/src/site.config.js\u003C/p>\\n\u003Cul>\\n\u003Cli>MarkedPage ä¸»è¦çš„é…ç½®æª”æ¡ˆï¼Œç”¨æ–¼é…ç½® Classifier åŠ Marked æ“´å±•ã€‚\u003C/li>\\n\u003C/ul>\\n\u003C/li>\\n\u003C/ul>\\n\u003Ch3 id=\\\"é…ç½®-siteconfigjs\\\" class=\\\"heading-item\\\">é…ç½® site.config.js\u003C/h3>\u003Cpre>\u003Ccode class=\\\"language-js\\\">const config = {\\n    classifier: [\\n        { id: &#39;post&#39;, params: { path: &#39;/_posts/&#39; }, type: &#39;directory&#39; },\\n    ],\\n    marked: {\\n        options: {},\\n        extensions: []\\n    },\\n};\\n\\nexport default config;\\n\u003C/code>\u003C/pre>\\n\u003Cul>\\n\u003Cli>\u003Ccode>classifier\u003C/code> æ¬„ä½å‹åˆ¥ç‚º Array ç”¨æ–¼é…ç½®åˆ†é¡å™¨ï¼Œæ¯å€‹åˆ†é¡å™¨ç”±ä¸‰å€‹æ¬„ä½çµ„æˆã€‚\u003Cul>\\n\u003Cli>id\\t=&gt;  åˆ†é¡å™¨ id - å‹åˆ¥ç‚º string\u003C/li>\\n\u003Cli>params\\t=&gt; å‚³å…¥åˆ†é¡å™¨çš„åƒæ•¸ - å‹åˆ¥ç‚º Object \u003C/li>\\n\u003Cli>type\\t=&gt;  é¸ç”¨çš„åˆ†é¡å™¨é¡å‹\u003C/li>\\n\u003C/ul>\\n\u003C/li>\\n\u003C/ul>\\n\u003Cp>é—œæ–¼åˆ†é¡å™¨çš„è©³æƒ…å¯åƒè€ƒ \u003Ca href=\\\"#classifier\\\" >\u003Cstrong>#Classifier\u003C/strong>\u003C/a> ç¯€\u003C/p>\\n\u003Cul>\\n\u003Cli>\u003Ccode>marked\u003C/code> æ¬„ä½ç”¨æ–¼é…ç½® marked  çš„è¨­å®šåŠæ“´å±•åŠŸèƒ½ã€‚è©³æƒ…å¯åƒé–± \u003Ca href=\\\"#marked\\\" >\u003Cstrong>#Marked\u003C/strong>\u003C/a> ç¯€ã€‚\u003C/li>\\n\u003C/ul>\\n\u003Cp>é™¤ä»¥ä¸Šç”¨é€”å¤–ä¹Ÿå¯ç”¨æ–¼é…ç½®ç¶²ç«™çš„è‡ªå®šç¾©å…§å®¹ï¼Œå¦‚ï¼š title ã€description ...ç­‰ï¼Œå¯è‡ªè¡Œé‹ç”¨ã€‚ç¯„ä¾‹å¦‚ä¸‹ï¼š\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-js\\\">const config = {\\n    title: &#39;MarkedPage Test Project&#39;,\\n    description: &#39;Test project description&#39;,\\n    author: {\\n        name: &quot;saweima&quot;\\n    },\\n    classifier: [\\n        { id: &#39;post&#39;, params: { path: &#39;/_posts/&#39; }, type: &#39;directory&#39; },\\n        { id: &#39;tag&#39;, params: { keys: [&#39;tag&#39;, &#39;tags&#39;] }, type: &#39;frontmatter&#39; },\\n        { id: &#39;category&#39;, params: { keys: [&#39;category&#39;, &#39;categories&#39;] }, type: &#39;frontmatter&#39; },\\n        { id: &#39;custom&#39;, params: { path: &#39;/_posts/&#39; }, type: CustomClassifierHandle },\\n    ],\\n    marked: {\\n        options: {},\\n        extensions: {}\\n    },\\n};\\n\u003C/code>\u003C/pre>\\n\u003Ch3 id=\\\"é…ç½®-viteconfigjs\\\" class=\\\"heading-item\\\">é…ç½® vite.config.js\u003C/h3>\u003Cpre>\u003Ccode class=\\\"language-js\\\">import { sveltekit } from &#39;@sveltejs/kit/vite&#39;;\\nimport { markedpageVitePlugin } from &#39;markedpage&#39;;\\n\\nimport siteConfig from &#39;./src/site.config.js&#39;;\\n\\n/** @type {import(&#39;vite&#39;).UserConfig} */\\nconst config = {\\n    plugins: [sveltekit(), markedpageVitePlugin(siteConfig)]\\n};\\n\\nexport default config;\\n\u003C/code>\u003C/pre>\\n\u003Cp>é€éå°å…¥ \u003Cstrong>markedpageVitePlugin\u003C/strong> åŠ \u003Cstrong>site.config.js\u003C/strong> å¯æ”¯æ´ markdown æª”æ¡ˆåŠ site.config.js çš„ç†±æ›´æ–°ï¼ˆæª”æ¡ˆæ›´æ–°å¾Œä¸éœ€è¦é‡å•Ÿï¼Œæœƒè‡ªå‹•åˆ·æ–°ï¼‰ã€‚\u003C/p>\\n\u003Ch2 id=\\\"å¦‚ä½•ä½¿ç”¨ï¼Ÿ\\\" class=\\\"heading-item\\\">å¦‚ä½•ä½¿ç”¨ï¼Ÿ\u003C/h2>\u003Cp>MarkedPage æä¾› 3 å€‹ä¸»è¦ Function åŠ 1 å€‹ HMR è¼”åŠ© Hookã€‚\u003C/p>\\n\u003Cul>\\n\u003Cli>siteConfig()\u003C/li>\\n\u003Cli>getPage(slug)\u003C/li>\\n\u003Cli>classifiedSet(id)\u003C/li>\\n\u003Cli>onContentUpdate(callback)\u003C/li>\\n\u003C/ul>\\n\u003Ch3 id=\\\"siteconfig\\\" class=\\\"heading-item\\\">siteConfig()\u003C/h3>\u003Cp>å–å¾— /src/site.config.js ä¸­çš„å…§å®¹ã€‚\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-js\\\">// å–å¾— config data\\nconst config = await siteConfig();\\n\\n// å›å‚³çµæœ\\n{\\n  title: &#39;MarkedPage Test Project&#39;,\\n  classifier: [\\n    { id: &#39;post&#39;, params: [Object], type: &#39;directory&#39; },\\n    { id: &#39;tag&#39;, params: [Object], type: &#39;frontmatter&#39; },\\n    { id: &#39;category&#39;, params: [Object], type: &#39;frontmatter&#39; },\\n    {\\n      id: &#39;custom&#39;,\\n      params: [Object],\\n      type: [AsyncFunction: CustomClassifierHandle]\\n    }\\n  ],\\n  marked: { options: {}, extensions: [ [Object] ] }\\n}\\n\u003C/code>\u003C/pre>\\n\u003Ch3 id=\\\"getpageslug\\\" class=\\\"heading-item\\\">getPage(slug)\u003C/h3>\u003Cp>æ ¹æ“š slug å–å¾—å°æ‡‰çš„é é¢è³‡æ–™ã€‚\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-js\\\">const page = await getPage(&quot;marked-test&quot;);\\n\\n// å›å‚³çµæœ\\n{\\n  frontMatter: {\\n    title: &#39;MarkedPage Test Page&#39;,\\n    tags: [ &#39;test&#39; ],\\n    category: [ &#39;default&#39; ],\\n    excerpt: &#39;TestPage Excerpt.&#39;,\\n    created: 2022-05-18T00:00:00.000Z\\n  },\\n  sourcePath: &#39;docs/_posts/2022-05-18-marked-test.md&#39;,\\n  indexPath: &#39;docs/_posts/2022-05-18-marked-test&#39;,\\n  headings: [\\n    { depth: 2, text: &#39;H2&#39;, raw: &#39;## H2\\\\n\\\\n&#39;, id: &#39;h2&#39; },\\n    { depth: 3, text: &#39;H3&#39;, raw: &#39;### H3\\\\n\\\\n&#39;, id: &#39;h3&#39; },\\n  ],\\n  render: [Function: render],\\n  raw: [Function: raw],\\n  slugKey: &#39;marked-test&#39;\\n}\\n\u003C/code>\u003C/pre>\\n\u003Ch3 id=\\\"classifiedsetid\\\" class=\\\"heading-item\\\">classifiedSet(id)\u003C/h3>\u003Cp>ä¾æ“š site.config.js ä¸­é…ç½®çš„ åˆ†é¡å™¨ id å–å¾—å°æ‡‰çš„è³‡æ–™ã€‚ \u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-js\\\">const pageSet = await classifiedSet(&quot;post&quot;);\\n\\n// å›å‚³çµæœ\\n{\\n  pages: [\\n    {\\n      frontMatter: [Object],\\n      sourcePath: &#39;docs/_posts/2022-05-18-marked-test.md&#39;,\\n      indexPath: &#39;docs/_posts/2022-05-18-marked-test&#39;,\\n      headings: [Array],\\n      render: [Function: render],\\n      raw: [Function: raw],\\n      slugKey: &#39;marked-test&#39;\\n    }\\n  ]\\n}\\n\u003C/code>\u003C/pre>\\n\u003Ch3 id=\\\"oncontentupdatecallback\\\" class=\\\"heading-item\\\">onContentUpdate(callback)\u003C/h3>\u003Cpre>\u003Ccode class=\\\"language-js\\\">  // src/routes/__layout.svelte\\n  import { invalidate } from &#39;$app/navigation&#39;;\\n  import { page } from &#39;$app/stores&#39;;\\n  import { onContentUpdate } from &#39;markedpage&#39;;\\n\\n  onContentUpdate((payload: Record&lt;string, any&gt;) =&gt; {\\n      let slug = $page.params.slug;\\n      // update endpoint data.\\n      invalidate(`/api/posts.json`);\\n      invalidate(`/api/posts/${slug}.json`);\\n  });\\n\u003C/code>\u003C/pre>\\n\u003Cp>ç”¨æ–¼å¯¦ä½œ HMR æ›´æ–°ï¼š\u003C/p>\\n\u003Cul>\\n\u003Cli>é€é \u003Ccode>onContentUpdate\u003C/code> ç›£è½ markdown æª”æ¡ˆæ˜¯å¦æœ‰è®Šå‹•ã€‚\u003C/li>\\n\u003Cli>ä½¿ç”¨ \u003Ccode>invalidate\u003C/code> é€šçŸ¥ SvelteKit åˆ·æ–° Endpoint ä¸¦è‡ªå‹•æ›´æ–° Client ç«¯ã€‚\u003C/li>\\n\u003C/ul>\\n\u003Ch2 id=\\\"classifier\\\" class=\\\"heading-item\\\">Classifier\u003C/h2>\u003Cp>MarkedPage æä¾›äº†å…©å€‹ç°¡æ˜“çš„åˆ†é¡å™¨åŠå®¢è£½åŒ–çš„é¸é …ã€‚ä¾æ“šä½¿ç”¨çš„åˆ†é¡å™¨ä¸åŒæœƒæœ‰ä¸åŒçš„å›å‚³çµæœã€‚\u003C/p>\\n\u003Ch3 id=\\\"directoryclassifier\\\" class=\\\"heading-item\\\">DirectoryClassifier\u003C/h3>\u003Cp>å°æ‡‰ \u003Ccode>type: &#39;directory&#39;\u003C/code> ï¼Œä»¥è·¯ç”±ç‚ºåŸºç¤çš„åˆ†é¡å™¨ï¼Œæœƒä»¥ /docs ç‚ºæ ¹ç›®éŒ„ä¾æ“š params.path é…ç½®çš„è·¯å¾‘é€²è¡Œåˆ†é¡ã€‚\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-js\\\">// ç¯„ä¾‹é…ç½®\\n{ id: &#39;post&#39;, params: { path: &#39;/_posts/&#39; }, type: &#39;directory&#39; }\\n\\n// å›å‚³çµæœ\\n{\\n  pages: [\\n    {\\n      frontMatter: [Object],\\n      sourcePath: &#39;docs/_posts/2022-05-18-marked-test.md&#39;,\\n      indexPath: &#39;docs/_posts/2022-05-18-marked-test&#39;,\\n      headings: [Array],\\n      render: [Function: render],\\n      raw: [Function: raw],\\n      slugKey: &#39;marked-test&#39;\\n    }\\n  ]\\n}\\n\u003C/code>\u003C/pre>\\n\u003Ch3 id=\\\"frontmatterclassifier\\\" class=\\\"heading-item\\\">FrontMatterClassifier\u003C/h3>\u003Cp>å°æ‡‰ \u003Ccode>type: &#39;frontmatter&#39;\u003C/code> ï¼Œä»¥ frontmatter æ¬„ä½ç‚ºåŸºç¤çš„åˆ†é¡å™¨ï¼Œéæ­·æ‰€æœ‰ page çš„ frontmatter ä¸¦æ ¹æ“šè¨»å†Šçš„æ¬„ä½çš„å€¼é€²è¡Œåˆ†é¡ã€‚\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-js\\\">// ç¯„ä¾‹é…ç½®\\n{ id: &#39;tag&#39;, params: { keys: [&#39;tags&#39;] }, type: &#39;frontmatter&#39; }\\n\\n// ç¯„ä¾‹ frontmatter\\n---\\ntitle: MarkedPage Test Page Second\\ntags:\\n - test\\n - test2\\n---\\n\\n// å›å‚³çµæœ\\n{\\n  test: [\\n    {\\n      frontMatter: [Object],\\n      sourcePath: &#39;docs/_posts/2022-05-18-marked-test-second.md&#39;,\\n      indexPath: &#39;docs/_posts/2022-05-18-marked-test-second&#39;,\\n      headings: [Array],\\n      render: [Function: render],\\n      raw: [Function: raw],\\n      slugKey: &#39;marked-test-second&#39;\\n    },\\n  ],\\n  test2: [\\n    {\\n      frontMatter: [Object],\\n      sourcePath: &#39;docs/_posts/2022-05-18-marked-test-second.md&#39;,\\n      indexPath: &#39;docs/_posts/2022-05-18-marked-test-second&#39;,\\n      headings: [Array],\\n      render: [Function: render],\\n      raw: [Function: raw],\\n      slugKey: &#39;marked-test-second&#39;\\n    }\\n  ]\\n}\\n\u003C/code>\u003C/pre>\\n\u003Ch3 id=\\\"customclassifier\\\" class=\\\"heading-item\\\">CustomClassifier\u003C/h3>\u003Cp>è‹¥å‰å…©è€…éƒ½ä¸ç¬¦åˆéœ€æ±‚ï¼Œå‰‡å¯ä»¥é¸æ“‡è‡ªå®šç¾©åˆ†é¡å™¨ Functionã€‚\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-js\\\">// è‡ªå®šç¾© Classifier\\nexport const CustomClassifierHandle = async ({options, pages}) =&gt; {\\n    let _classifiedPages = [];\\n    let { id, params } = options;\\n  \\n    console.log(`::: Run CustomClassifierHandle -  ${id} :::`);\\n    pages.map((page) =&gt; {\\n      const { sourcePath } = page;\\n      if (!sourcePath.includes(params.path)) return;\\n  \\n      _classifiedPages.push(page);\\n    });\\n  \\n    return { pages: _classifiedPages };\\n};\\n\\n// ç¯„ä¾‹é…ç½®\\n{ id: &#39;custom&#39;, params: { path: &#39;/_posts/&#39; }, type: CustomClassifierHandle },\\n\\n// å›å‚³çµæœ (ç¯„ä¾‹ä¸­èˆ‡ DirectoryClassifier ä¸€è‡´)\\n\u003C/code>\u003C/pre>\\n\u003Cp>æ¥æ”¶çš„å…©å€‹åƒæ•¸ï¼š\u003C/p>\\n\u003Cul>\\n\u003Cli>options -&gt; site.config.js ä¸­é…ç½®çš„ åˆ†é¡å™¨ Object\u003C/li>\\n\u003Cli>pages   -&gt; ä½æ–¼ /docs ä¸‹æ‰€æœ‰çš„  page Array\u003C/li>\\n\u003C/ul>\\n\u003Ch2 id=\\\"é¡å¤–åŠŸèƒ½\\\" class=\\\"heading-item\\\">é¡å¤–åŠŸèƒ½\u003C/h2>\u003Cp>é™¤äº†åŸºæœ¬çš„ Markdown æ”¯æ´å¤–ï¼Œå¦æœ‰å¯¦ä½œä»¥ä¸‹å¹¾é …å…§éƒ¨åŠŸèƒ½ã€‚\u003C/p>\\n\u003Ch3 id=\\\"frontmatter\\\" class=\\\"heading-item\\\">FrontMatter\u003C/h3>\u003Cp>é€é front-matter å¥—ä»¶ï¼Œè§£æåœ¨ .md æª”æ¡ˆä¸­é ‚éƒ¨çš„ yaml å€åŸŸï¼Œä¸¦å°å‡ºè‡³ frontMatter æ¬„ä½ã€‚\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-md\\\">---\\ntitle: MarkedPage Test Page\\ntags:\\n - test\\ncategory:\\n - default\\n---\\n\\nç”± --- å¤¾è‘—çš„å…§å®¹ç‚º yaml æ ¼å¼ã€‚æœƒè¢«å°å‡ºç‚º page.frontMatter\\n\u003C/code>\u003C/pre>\\n\u003Ch3 id=\\\"excerpt\\\" class=\\\"heading-item\\\">Excerpt\u003C/h3>\u003Cp>é€é Regex è§£æå…§å®¹ï¼Œæœƒå°‡\u003Cstrong>ç¬¬ä¸€å€‹\u003C/strong>æœç´¢åˆ°çš„ \u003Ccode>&lt;!-- more --&gt;\u003C/code> (æœ‰ç„¡ç©ºç™½çš†å¯) ä»¥ä¸Šçš„å…§å®¹æŠ½å‡ºç‚º excerptã€‚\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-md\\\">---\\ntitle: MarkedPage test.\\n---\\n\\né€™æ®µå¥å­æœƒè¢«å°å‡ºç‚º page.frontMatter.excerpt(ä¸å« HTML åŠMarkdown tag)ã€‚\\n&lt;!--more--&gt;\\né€™æ®µå¥å­ä¸æœƒç™¼ç”Ÿä»»ä½•äº‹æƒ…ã€‚\\n&lt;!-- more --&gt;\\n\u003C/code>\u003C/pre>\\n\u003Ch3 id=\\\"draft\\\" class=\\\"heading-item\\\">Draft\u003C/h3>\u003Cp>æ­¤ç‚º FrontMatter çš„å»¶ä¼¸åŠŸèƒ½ï¼Œç•¶ FrontMatter å…§å®¹åŒ…å« \u003Ccode>_draft: true\u003C/code> æ™‚ï¼Œè©²ç¯‡æ–‡ç« åœ¨ \u003Ccode>NODE_ENV=&quot;production&quot;\u003C/code> ç‹€æ…‹ï¼ˆä¹Ÿå°±æ˜¯ä½¿ç”¨ svelte-kit build ) ä¸‹ä¸æœƒè¢«åˆ—å…¥æœ‰æ•ˆæª”æ¡ˆä¸­ã€‚\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-md\\\">---\\ntitle: MarkedPage test.\\n_draft: true\\n---\\n\\né€™ç¯‡æ–‡ç« åœ¨ Production æ¨¡å¼ä¸‹ä¸æœƒè¢«åˆ—å…¥æœ‰æ•ˆæ–‡ç« ä¸­ï¼Œç„¡æ³•æª¢ç´¢ã€‚\\n\u003C/code>\u003C/pre>\\n\u003Ch2 id=\\\"æ“´å±•åŠŸèƒ½\\\" class=\\\"heading-item\\\">æ“´å±•åŠŸèƒ½\u003C/h2>\u003Cp>æœ€å¾Œï¼Œè€ƒé‡åˆ°è‡ªå®šç¾©çš„éœ€æ±‚ï¼Œåœ¨ site.config.js ä¸­æä¾›äº†å…©å€‹æ“´å±•é¸é …ï¼š\u003C/p>\\n\u003Ch3 id=\\\"marked\\\" class=\\\"heading-item\\\">Marked\u003C/h3>\u003Cp>ç”¨ä»¥è‡ªå®šç¾©è§£æ markdown å…§å®¹æ™‚çš„è™•ç†ã€‚åƒæ˜¯å¹«è‡ªå®šç¾© heading çš„idã€å¹«æ¨™ç±¤åŠ ä¸Šçµ±ä¸€çš„ classã€è‡ªå®šç¾© Block ...ç­‰ã€‚\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-js\\\">marked: {\\n  options: {},\\n  extensions: []\\n},\\n\u003C/code>\u003C/pre>\\n\u003Cul>\\n\u003Cli>options é¡å‹ç‚º Object å…¶å…§å®¹æœƒè¢«å‚³å…¥ marked.setOptions() ä½œç‚ºé è¨­å€¼\u003Cul>\\n\u003Cli>é…ç½®å¯åƒè€ƒï¼š \u003Ca href=\\\"https://marked.js.org/using_advanced#options\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopenner\\\">Marked Document - Options\u003C/a>\u003C/li>\\n\u003C/ul>\\n\u003C/li>\\n\u003Cli>extension  é¡å‹ç‚º Array å…¶å…§å®¹æœƒä¾åºè¢«å‚³å…¥ marked.use()\u003Cul>\\n\u003Cli>ç”¨ä»¥å…¼å®¹ Marked çš„ extension å¥—ä»¶ï¼Œå¦‚ï¼š \u003Ca href=\\\"https://www.npmjs.com/package/marked-custom-heading-id\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopenner\\\">marked-custom-heading-id\u003C/a>\u003C/li>\\n\u003Cli>ä¹Ÿå¯è‡ªå®šç¾©æ“´å±•ï¼Œç·¨å¯«æ–¹å¼å¯åƒè€ƒï¼š \u003Ca href=\\\"https://marked.js.org/using_pro#use\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopenner\\\">Marked Document - Use\u003C/a>\u003C/li>\\n\u003C/ul>\\n\u003C/li>\\n\u003C/ul>\\n\u003Ch3 id=\\\"extendpagedatapage\\\" class=\\\"heading-item\\\">extendPageData(page)\u003C/h3>\u003Cp>ç•¶ Markdown page åšå®ŒåŸºæœ¬è™•ç†ï¼ˆæŠ½å‡º headingã€å°å‡º excerpt åŠ frontmatterï¼‰å¾ŒåŸ·è¡Œï¼Œç”¨ä»¥è‡ªå®šç¾©æ“´å±•æ¬„ä½ã€‚\u003C/p>\\n\u003Cpre>\u003Ccode class=\\\"language-js\\\">import { marked } from &quot;marked&quot;;\\nexport const extendPageData = async (page) =&gt; {\\n    const raw = await page.raw();\\n    page.test = marked.parse(raw);\\n}\\n\u003C/code>\u003C/pre>\\n\u003Ch2 id=\\\"æ‡‰ç”¨ç¯„ä¾‹\\\" class=\\\"heading-item\\\">æ‡‰ç”¨ç¯„ä¾‹\u003C/h2>\u003Cp>æœ€å¾Œï¼Œé™„ä¸Šæ‡‰ç”¨ç¯„ä¾‹ã€‚ç¯„ä¾‹ä¸­åŒ…å« Endpoint ç«¯åŠ Page ç«¯çš„å¯¦ä½œã€‚\u003C/p>\\n\u003Cblockquote>\\n\u003Cp>\u003Cstrong>MarkedPage Example Repo\u003C/strong>\u003Cbr/> \\nç¶²å€: \u003Ca href=\\\"https://github.com/saweima12/markedpage-example\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopenner\\\">é»æˆ‘é€²å…¥\u003C/a>\u003C/p>\\n\u003C/blockquote>\\n\u003Ch2 id=\\\"tldr\\\" class=\\\"heading-item\\\">TL;DR\u003C/h2>\u003Cul>\\n\u003Cli>MarkedPage æ˜¯ç‚ºäº†è¼”åŠ© SvelteKit Static Site è€Œè£½ä½œçš„å·¥å…·ã€‚\u003C/li>\\n\u003Cli>ç›®çš„åœ¨ç°¡åŒ– Markdown è³‡æ–™çš„è®€å–åŠå»ºç«‹ç´¢å¼•çš„ç¹é›œéç¨‹ã€‚\u003C/li>\\n\u003Cli>site.config.js é™¤äº†é…ç½®ä»¥å¤–é‚„èƒ½ç”¨ä¾†å¡«å…¥ç¶²ç«™çš„åŸºæœ¬åƒæ•¸ä½œå¾ŒçºŒä½¿ç”¨ã€‚\u003C/li>\\n\u003Cli>classifer å¯é¸æ“‡åŸºæ–¼\u003Ccode>è³‡æ–™å¤¾è·¯å¾‘\u003C/code>èˆ‡\u003Ccode>frontmatter\u003C/code>å…©ç¨®ç°¡æ˜“åˆ†é¡å™¨ã€‚\u003C/li>\\n\u003Cli>ç”±æ–¼ä½¿ç”¨ marked ä½œç‚ºè½‰è­¯å™¨ï¼Œå¯ä½¿ç”¨ extension åŠŸèƒ½ä¿®æ”¹ parse çµæœ (å¯åƒè€ƒ \u003Ca href=\\\"https://marked.js.org/using_pro\\\" target=\\\"_blank\\\" rel=\\\"noreferrer noopenner\\\">Document\u003C/a>)\u003C/li>\\n\u003C/ul>\\n\",\"headings\":[{\"depth\":2,\"text\":\"é€™èƒ½å¤ åšäº›ä»€éº¼ï¼Ÿ\",\"id\":\"é€™èƒ½å¤ åšäº›ä»€éº¼ï¼Ÿ\"},{\"depth\":2,\"text\":\"äº‹å‰æº–å‚™\",\"id\":\"äº‹å‰æº–å‚™\"},{\"depth\":3,\"text\":\"å®‰è£\",\"id\":\"å®‰è£\"},{\"depth\":3,\"text\":\"ç›®éŒ„çµæ§‹\",\"id\":\"ç›®éŒ„çµæ§‹\"},{\"depth\":3,\"text\":\"é…ç½® site.config.js\",\"id\":\"é…ç½®-siteconfigjs\"},{\"depth\":3,\"text\":\"é…ç½® vite.config.js\",\"id\":\"é…ç½®-viteconfigjs\"},{\"depth\":2,\"text\":\"å¦‚ä½•ä½¿ç”¨ï¼Ÿ\",\"id\":\"å¦‚ä½•ä½¿ç”¨ï¼Ÿ\"},{\"depth\":3,\"text\":\"siteConfig()\",\"id\":\"siteconfig\"},{\"depth\":3,\"text\":\"getPage(slug)\",\"id\":\"getpageslug\"},{\"depth\":3,\"text\":\"classifiedSet(id)\",\"id\":\"classifiedsetid\"},{\"depth\":3,\"text\":\"onContentUpdate(callback)\",\"id\":\"oncontentupdatecallback\"},{\"depth\":2,\"text\":\"Classifier\",\"id\":\"classifier\"},{\"depth\":3,\"text\":\"DirectoryClassifier\",\"id\":\"directoryclassifier\"},{\"depth\":3,\"text\":\"FrontMatterClassifier\",\"id\":\"frontmatterclassifier\"},{\"depth\":3,\"text\":\"CustomClassifier\",\"id\":\"customclassifier\"},{\"depth\":2,\"text\":\"é¡å¤–åŠŸèƒ½\",\"id\":\"é¡å¤–åŠŸèƒ½\"},{\"depth\":3,\"text\":\"FrontMatter\",\"id\":\"frontmatter\"},{\"depth\":3,\"text\":\"Excerpt\",\"id\":\"excerpt\"},{\"depth\":3,\"text\":\"Draft\",\"id\":\"draft\"},{\"depth\":2,\"text\":\"æ“´å±•åŠŸèƒ½\",\"id\":\"æ“´å±•åŠŸèƒ½\"},{\"depth\":3,\"text\":\"Marked\",\"id\":\"marked\"},{\"depth\":3,\"text\":\"extendPageData(page)\",\"id\":\"extendpagedatapage\"},{\"depth\":2,\"text\":\"æ‡‰ç”¨ç¯„ä¾‹\",\"id\":\"æ‡‰ç”¨ç¯„ä¾‹\"},{\"depth\":2,\"text\":\"TL;DR\",\"id\":\"tldr\"}]}"}</script></div>
	</body>
</html>
